/*
 * Classic example grammar, which recognizes simple arithmetic expressions like
 * "2*(3+4)". The parser generated from this grammar then computes their value.
 */

start
  = firstAction

firstAction
   =left:secondAction " " right:pct {return left}

secondAction
   = left:string " = " right:additive { return left+' are valoarea de '+right }


string "string"
  = variable:([a-zA-Z]+) { return variable.join(""); }

additive
  = left:multiplicative "+" right:additive { return left + right; }
  / multiplicative

multiplicative
  = left:primary "*" right:multiplicative { return left * right; }
  / primary

primary
  = integer
  / "(" additive:additive ")" { return additive; }

integer "integer"
  = (digits:[0-9]+) { return parseInt(digits.join(""), 10); }

pct
  = final:[$][$] { return final }